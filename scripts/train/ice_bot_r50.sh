#!/bin/bash
echo "Run ICE"
python projects/SMT/train_net.py --num-gpus 4 --config-file projects/SMT/configs/Market1501/BoT_R50.yml OUTPUT_DIR logs/ICE/BoT_R50/market1501 MODEL.HEADS.NECK_FEAT "after" MODEL.LOSSES.NAME \(\"CenterContrastiveLoss\",\"HardViewContrastiveLoss\"\) PSEUDO.DBSCAN.BASE 'rho' PSEUDO.DBSCAN.RHO 2.2e-3 SOLVER.WARMUP_EPOCHS 10 SOLVER.WEIGHT_DECAY 0. SOLVER.WEIGHT_DECAY_BIAS 0.
python projects/SMT/train_net.py --num-gpus 4 --config-file projects/SMT/configs/DukeMTMC/BoT_R50.yml OUTPUT_DIR logs/ICE/BoT_R50/dukemtmc MODEL.HEADS.NECK_FEAT "after" MODEL.LOSSES.NAME \(\"CenterContrastiveLoss\",\"HardViewContrastiveLoss\"\) PSEUDO.DBSCAN.BASE 'rho' PSEUDO.DBSCAN.RHO 2.2e-3 SOLVER.WARMUP_EPOCHS 10 SOLVER.WEIGHT_DECAY 0. SOLVER.WEIGHT_DECAY_BIAS 0.
python projects/SMT/train_net.py --num-gpus 4 --config-file projects/SMT/configs/MSMT17/BoT_R50.yml OUTPUT_DIR logs/ICE/BoT_R50/msmt17 TEST.DO_VAL True MODEL.HEADS.NECK_FEAT "after" MODEL.LOSSES.NAME \(\"CenterContrastiveLoss\",\"HardViewContrastiveLoss\"\) PSEUDO.DBSCAN.BASE 'rho' PSEUDO.DBSCAN.RHO 2.2e-3 SOLVER.WARMUP_EPOCHS 10 SOLVER.WEIGHT_DECAY 0. SOLVER.WEIGHT_DECAY_BIAS 0.